# Terra Invicta Advisory System - Linux Configuration
# Copy this file to .env: cp .env.linux.dist .env

# =============================================================================
# KOBOLDCPP CONFIGURATION
# =============================================================================

# KoboldCPP API endpoint
KOBOLDCPP_URL=http://localhost:5001

# Path to KoboldCPP installation directory
KOBOLDCPP_DIR=~/koboldcpp

# Model paths by quality tier (32GB RAM optimized)
# base: Mistral 7B Q4 (~4GB, 45 tok/s) - Daily use
# max: Mistral 7B Q6 (~5.5GB, 40 tok/s) - Better quality  ‚Üê "This is the max!"
# nuclear: Qwen2.5 14B Q4 (~8GB, 25-30 tok/s) - Superior reasoning (recommended)
# ridiculous: Qwen2.5 32B Q4 (~18GB, 12-15 tok/s) - Near GPT-4 level
# ludicrous: Qwen2.5 72B Q2 (~28GB, 5-8 tok/s) - Maximum quality (may OOM)
KOBOLDCPP_MODEL_BASE=~/models/mistral-7b-instruct-v0.2-q4_k_m.gguf
KOBOLDCPP_MODEL_MAX=~/models/mistral-7b-instruct-v0.2-q6_k.gguf
KOBOLDCPP_MODEL_NUCLEAR=~/models/qwen2.5-14b-instruct-q4_k_m.gguf
KOBOLDCPP_MODEL_RIDICULOUS=~/models/qwen2.5-32b-instruct-q4_k_m.gguf
KOBOLDCPP_MODEL_LUDICROUS=~/models/qwen2.5-72b-instruct-q2_k.gguf

# Default quality tier (base/max/nuclear/ridiculous/ludicrous)
KOBOLDCPP_QUALITY=base

# KoboldCPP port
KOBOLDCPP_PORT=5001

# Hardware-specific settings (AMD RX 9070 XT + Ryzen 7 9800X3D)
# GPU backend for Linux:
#   clblast - AMD ROCm (best performance, ~45 tok/s, requires ROCm drivers)
#   vulkan  - Cross-platform (AMD/NVIDIA, ~35-40 tok/s)
#   cublas  - NVIDIA CUDA only
# Recommended: clblast for maximum performance
KOBOLDCPP_GPU_BACKEND=clblast

# GPU layers to offload (35 = nearly all layers on RX 9070 XT)
KOBOLDCPP_GPU_LAYERS=35

# Context size (16384 works well with 32GB RAM, can go up to 32768)
KOBOLDCPP_CONTEXT_SIZE=16384

# CPU threads (match core count)
KOBOLDCPP_THREADS=8

# =============================================================================
# TERRA INVICTA GAME PATHS (LINUX)
# =============================================================================

# Terra Invicta game installation directory
# Native Steam installation (most common)
GAME_INSTALL_DIR='~/.steam/steam/steamapps/common/Terra Invicta'

# Proton/Wine installation (alternative, if using Windows version)
# GAME_INSTALL_DIR=~/.steam/steam/steamapps/compatdata/1176470/pfx/drive_c/Program Files (x86)/Steam/steamapps/common/Terra Invicta

# Game version (for dependency tracking)
GAME_VERSION=1.0.29

# Terra Invicta saves directory
# Native Linux saves location
GAME_SAVES_DIR='~/.local/share/Pavonis Interactive/Terra Invicta/Saves'

# Proton/Wine saves location (alternative)
# GAME_SAVES_DIR=~/.steam/steam/steamapps/compatdata/1176470/pfx/drive_c/users/steamuser/Documents/My Games/TerraInvicta/Saves

# =============================================================================
# ADVISORY SYSTEM PATHS (relative to project root)
# =============================================================================

# Source directory (human-editable files)
RESOURCES_DIR=./resources

# Build directory (generated artifacts)
BUILD_DIR=./build

# Generated files directory (LLM context, conversation logs)
GENERATED_DIR=./generated

# Logs directory
LOGS_DIR=./logs

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Performance settings
MAX_RESPONSE_TOKENS=300
CONTEXT_WINDOW_SIZE=16384

# =============================================================================
# TIER SYSTEM
# =============================================================================

# Global tier (1, 2, or 3) - can be set manually or let CODEX determine
CURRENT_TIER=1

# =============================================================================
# LINUX NOTES
# =============================================================================

# ROCm Setup (for clblast backend):
# - Install ROCm drivers: https://rocm.docs.amd.com/
# - Verify: rocm-smi (should show GPU)
# - KoboldCpp needs to be built with ROCm support

# Vulkan Setup (alternative):
# - Install vulkan-tools: sudo apt install vulkan-tools
# - Verify: vulkaninfo (should list GPU)
# - Works out-of-box on most distributions

# Path Expansion:
# - ~ expands to home directory automatically
# - terractl.py uses os.path.expanduser() for compatibility

# Proton/Wine Games:
# - Find compatdata folder: ls ~/.steam/steam/steamapps/compatdata/
# - Game ID for Terra Invicta: 1176470
# - Saves may be in Windows-style paths inside pfx/

# Do NOT commit .env to version control (already in .gitignore)
